**********************************************************************************
**********************************************************************************
основные команды
**********************************************************************************
**********************************************************************************
$ pwd - определить текущий каталог.
$ cd [имя каталога] — осуществить переход в заданный каталог.
$ ls [имя каталога] - просмотреть список файлов и подкаталогов.
$ mkdir [имя каталога] — создать каталог с заданным именем.
$ cp <имя файла 1> <имя файла 2> - скопировать файл «имя файла 1» в файл «имя файла 2», например: cp first.txt copy1.txt.
$ mv <имя файла 1> <имя файла 2> - переименовать файл «имя файла 1» в файл «имя файла 2», например: mv first.txt orig.txt. 
mv myfile1.txt mydir/переместить
$ ln «имя файла» «имя ссылки» - создать жёсткую ссылку «имя ссылки» на файл «имя файла». Пример: ln orig.txt copy2.txt.
$ ln -s «имя файла» «имя ссылки» - создать символическую ссылку «имя ссылки» на файл «имя файла». Пример: ln -s orig.txt copy2.txt.
$ rm <имя файла> - удалить файл.
$ touch <имя файла> - создание файла.
$ man <название команды> - получение справочной документации о выбранной команде.



**********************************************************************************
**********************************************************************************
Права в Linux (chown, chmod, SUID, GUID, sticky bit, ACL, umask)
**********************************************************************************
**********************************************************************************
drwx------. 3  bob            bob            74     Feb   6   10:13 bob
d значит директория( - это файл. еще куча обозначений есть)
rwx------ значит что для владельца файла(директориии) открыто r-чтение, w-редактирование, x-исполнение;
rwxrwx---значит что для владельца файла(директориии), и участника группы bob открыто r-чтение, w-редактирование, x-исполнение; последниее --- означают что для всех остальных пользователей все закрыто. Т.Е. первые 3 символа это права для владельца вторые 3 символа права для группы 3 три символа права для всех остальных. В данном примере пользователь bob и группа тоже с названием bob

Три основных разрешения позволяют вам читать, записывать и выполнять файлы. Эффект этих разрешений отличается при применении к файлам или каталогам. Применительно к файлу разрешение на чтение дает вам право открыть файл для чтения. Следовательно, вы можете прочитать его содержимое, но это означает, что ваш компьютер может открыть файл, чтобы что-то с ним сделать.

Программный файл, которому требуется доступ к библиотеке, должен, например, иметь доступ для чтения к этой библиотеке. Из этого следует, что разрешение на чтение — это самое основное разрешение, которое вам нужно для работы с файлами.

Применительно к каталогу чтение позволяет отображать содержимое этого каталога. Вы должны знать, что это разрешение не позволяет вам читать файлы в каталоге. Система разрешений Linux не знает наследования, и единственный способ прочитать файл — использовать разрешения на чтение для этого файла.

Как вы, вероятно, можете догадаться, разрешение на запись, если оно применяется к файлу, позволяет записывать в файл. Иначе говоря, позволяет изменять содержимое существующих файлов. Однако он не позволяет создавать или удалять новые файлы или изменять права доступа к файлу. Для этого вам нужно дать разрешение на запись каталогу, где вы хотите создать файл. В каталогах это разрешение также позволяет создавать и удалять новые подкаталоги.

Разрешение на выполнение — это то, что вам нужно для выполнения файла. Оно никогда не будет установлено по умолчанию, что делает Linux практически полностью невосприимчивым к вирусам. Только кто-то с правами записи на каталог может применять разрешение на выполнение.

ПОИСК ПО ВЛАДЕЛЬЦУ И ГРУППЕ
показывает все файлы, у которых в качестве владельца указан пользователь linda:
$ find / -user linda

ищет все файлы, принадлежащие группе users:
$ find / -group users


ЗАМЕНА ВЛАДЕЛЬЦА
меняет владельца каталога /home/account на пользователя linda:
$ chown linda /home/account

-R рекурсивно
меняет владельца для каталога /home и всего, что находится в нём, на пользователя lisa:
$ chown -R lisa /home/account

ЗАМЕНА ГРУППЫ
изменяет какого-либо группу /home/account на группу stiks17:
$ chown .account /home/stiks17

установить  каталогу account группу sales:
$ chgrp .sales /home/account
можно использовать опцию -R с chgrp -- рекурсивно

посмотреть первичную(главную) группу пользователя lisa(пользователь может быть членом многих групп):
$ groups lisa

Добавить пользователя в группу можно командой usermod:
$ usermod -a -G имя_группы имя_пользователя
Для примера давайте добавим нашего пользователя в группу disk:
$ usermod -G -a disk sergiy
удалить группу Linux можно командой:
$ delgroup имя_группы

Безопасный способ изменить основную группу пользователя Linux – использовать следующую команду:
$ usermod -g NewPrimaryGroup -G mackey,adm,cdrom,sudo,dip,plugdev,sambashare,lpadmin mackey
Эта команда сначала изменит первичную группу пользователя mackey с «mackey» на «NewPrimaryGroup». Затем он назначит пользователя “mackey” следующим вторичным группам: “mackey, adm, cdrom, sudo, dip, plugdev, sambashare, lpadmin”. Таким образом, основная группа Макки будет изменена, не влияя на членство в других группах и не теряя членство в предыдущей основной группе «Макки».


КОМАНДА CHMOD

Эта команда имеет типичный для команд linux синтаксис, сначала команда, затем опции, а в конце файл или папка, к которой ее нужно применить:

$ chmod опции права /путь/к/файлу

Сначала рассмотрим какими бывают права доступа linux и как они устанавливаются. Пред этим рекомендую прочитать статью про права, ссылка на которую есть выше. Есть три основных вида прав:

r - чтение;
w - запись;
x - выполнение;
s - выполнение  от имени суперпользователя (дополнительный);

Также есть три категории пользователей, для которых вы можете установить эти права на файл linux:

u - владелец файла;
g - группа файла;
o - все остальные пользователи;
В качестве действий могут использоваться знаки "+" - включить или "-" - отключить. Рассмотрим несколько примеров:

u+x - разрешить выполнение для владельца;
ugo+x - разрешить выполнение для всех;
ug+w - разрешить запись для владельца и группы;
o-x - запретить выполнение для остальных пользователей;
ugo+rwx - разрешить все для всех;

пример
отберем все права у всех:
$chmod ugo-rwx file
пример:
дадим все права всем
$chmod ugo+rwx file
пример
разрешить выполнения скрипта владельцу:
chmod u+x file
(во всех примерах file - имя файла)







